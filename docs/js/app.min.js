!function a(r,s,l){function u(t,e){if(!s[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[t]={exports:{}};r[t][0].call(o.exports,function(e){return u(r[t][1][e]||e)},o,o.exports,a,r,s,l)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var h=i(e("./shared/dom")),f=i(e("./shared/follower")),o=i(e("./shared/rect")),d=i(e("./shared/triangles")),a=i(e("./shared/utils")),p=i(e("./shared/video"));function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=document.querySelector("body"),t=document.querySelector(".page");h.default.detect(e);var n=new Swiper(".swiper-container--home-hero",{loop:!0,parallax:!0,spaceBetween:0,speed:600,autoplay:{delay:5e3,disableOnInteraction:!0},on:{slideChangeTransitionEnd:function(){var e=this.slides[this.activeIndex];if(e)e.querySelector("video")}}}),i=new Swiper(".swiper-container--hilights",{loop:!1,parallax:!0,spaceBetween:300,speed:600,pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0}}),o=[n,i],a=[].slice.call(document.querySelectorAll("video[playsinline]")).map(function(e,t){var n=new p.default(e);return n.i=t,n}),r=[].slice.call(document.querySelectorAll(".triangles")).map(function(e,t){var n=new d.default(e);return n.i=t,n}),s=[].slice.call(document.querySelectorAll("[data-parallax]")),l=[].slice.call(document.querySelectorAll("[data-parallax-shadow]")),u=new f.default(document.querySelector(".follower")),c=[].slice.call(document.querySelectorAll('[href="#"]'));this.body=e,this.page=t,this.swiperHero=n,this.swiperHilights=i,this.swipers=o,this.videos=a,this.triangles=r,this.parallaxes=s,this.shadows=l,this.follower=u,this.hrefs=c,this.mouse={x:0,y:0},this.onResize(),this.addListeners()}},{key:"addListeners",value:function(){window.addEventListener("resize",function(){l.onResize()}),window.addEventListener("scroll",a.default.throttle(function(){l.onScroll()},40)),document.addEventListener("mousemove",function(e){l.onMouseMove(e)}),this.hrefs.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation()})})}},{key:"onMouseMove",value:function(e){this.mouse.x=e.clientX/window.innerWidth-.5,this.mouse.y=e.clientY/window.innerHeight-.5,this.follower.follow(this.hrefs.map(function(e){return o.default.fromNode(e)})),this.follower.move({x:e.clientX,y:e.clientY})}},{key:"onResize",value:function(){this.windowRect=new o.default({top:0,left:0,width:window.innerWidth,height:window.innerHeight}),this.triangles.forEach(function(e){e.resize()})}},{key:"onScroll",value:function(){80<h.default.scrollTop()?this.body.classList.add("fixed"):this.body.classList.remove("fixed")}},{key:"render",value:function(){var a=this;if(h.default.overscroll||h.default.touch)this.body.hasAttribute("style")&&this.body.removeAttribute("style");else{this.body.offsetHeight!==this.page.offsetHeight&&TweenMax.set(this.body,{height:this.page.offsetHeight});var e=this.page.top||0;e+=(-h.default.scrollTop()-e)/10,e=Math.round(10*e)/10,this.page.top!==e&&(this.page.top=e,TweenMax.set(this.page,{y:e}))}this.shadows.forEach(function(e){var t=e.xy||{x:0,y:0};t.x+=(a.mouse.x-t.x)/8,t.y+=(a.mouse.y-t.y)/8;var n=e.getAttribute("data-parallax-shadow")||90,i=(.2+.3*(Math.abs(t.x)+Math.abs(t.y))/2).toFixed(3),o=(-100*t.x).toFixed(2)+"px "+(-50*t.y).toFixed(2)+"px "+n+"px -10px rgba(0, 0, 0, "+i+")";TweenMax.set(e,{boxShadow:o}),e.xy=t}),this.swipers.forEach(function(e,t){var n=e.el;0<o.default.fromNode(n).intersection(a.windowRect).y?e.autoplay.running||e.autoplay.start():e.autoplay.running&&e.autoplay.stop()}),this.videos.forEach(function(e,t){var n=e.node;0<o.default.fromNode(n).intersection(a.windowRect).y?e.appear():e.disappear()}),this.triangles.forEach(function(e,t){var n=e.node;0<o.default.fromNode(n).intersection(a.windowRect).y?e.appear():e.disappear()}),this.parallaxes.forEach(function(e,t){var n=e.currentY||0,i=o.default.fromNode(e);n=(i=new o.default({top:i.top-n,left:i.left,width:i.width,height:i.height})).intersection(a.windowRect).center.y*parseInt(e.getAttribute("data-parallax")),e.currentY!==n&&(e.currentY=n,TweenMax.set(e,{transform:"translateY("+n+"px)"}))}),this.follower.render()}},{key:"loop",value:function(){var e=this;this.render(),this.playing&&window.requestAnimationFrame(function(){e.loop()})}},{key:"play",value:function(){this.playing=!0,this.loop()}},{key:"pause",value:function(){this.playing=!1}}])&&r(t.prototype,n),i&&r(t,i),e}(),l=new(n.default=s);window.onload=function(){l.init(),l.play()}},{"./shared/dom":2,"./shared/follower":3,"./shared/rect":4,"./shared/triangles":6,"./shared/utils":7,"./shared/video":8}],2:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(){function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l)}var e,t,n;return e=l,n=[{key:"detect",value:function(t){var e=navigator.userAgent.toLowerCase(),n=-1<e.indexOf("msie"),i=-1<e.indexOf("firefox"),o=-1<e.toLowerCase().indexOf("op"),a=-1<e.indexOf("chrome"),r=-1<e.indexOf("safari");a&&r&&(r=!1),a&&o&&(a=!1);var s={chrome:a,explorer:n,firefox:i,safari:r,opera:o,overscroll:"MacIntel"===navigator.platform&&"function"==typeof navigator.getBattery};Object.assign(l,s),Object.keys(s).forEach(function(e){s[e]&&t.classList.add(e)});document.addEventListener("touchstart",function e(){document.removeEventListener("touchstart",e),l.touch=!0,t.classList.add("touch")});document.addEventListener("mousedown",function e(){document.removeEventListener("mousedown",e),l.mouse=!0,t.classList.add("mouse")})}},{key:"fragmentFirstElement",value:function(e){return Array.prototype.slice.call(e.children).find(function(e){return e.nodeType===Node.ELEMENT_NODE})}},{key:"fragmentFromHTML",value:function(e){return document.createRange().createContextualFragment(e)}},{key:"scrollTop",value:function(){return document&&document.defaultView?document.defaultView.pageYOffset:0}}],(t=null)&&i(e.prototype,t),n&&i(e,n),l}();n.default=o},{}],3:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.node=e,this.x=0,this.y=0,this.s=0,this.opacity=0,this.mouse={x:0,y:0},this.rects=[]}var e,n,i;return e=t,(n=[{key:"follow",value:function(e){this.rects=e}},{key:"move",value:function(e){this.mouse=e}},{key:"render",value:function(){var o=this.mouse.x,a=this.mouse.y,e=.25,t=this.rects.reduce(function(e,t){var n=Math.abs(o-t.center.x),i=Math.abs(a-t.center.y);return n<e.dx&&n<100&&i<e.dy&&i<100?{match:!0,x:t.center.x,y:t.center.y,dx:n,dy:i}:e},{match:!1,x:0,y:0,dx:Number.POSITIVE_INFINITY,dy:Number.POSITIVE_INFINITY});t.match&&(o=t.x,a=t.y,e=1),this.x+=(o-this.x)/8,this.y+=(a-this.y)/8,this.s+=(e-this.s)/8,this.opacity+=(1-this.opacity)/8,TweenMax.set(this.node,{opacity:this.opacity,transform:"translateX(".concat(this.x,"px) translateY(").concat(this.y,"px) scale3d(").concat(this.s,",").concat(this.s,",").concat(this.s,")")})}}])&&o(e.prototype,n),i&&o(e,i),t}();n.default=i},{}],4:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.top=0,this.right=0,this.bottom=0,this.left=0,this.width=0,this.height=0,this.set(e)}var e,t,i;return e=n,i=[{key:"intersectRect",value:function(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}},{key:"fromNode",value:function(e){if(!e.getClientRects().length)return new n;var t=e.getBoundingClientRect();return new n({top:t.top,left:t.left,width:t.width,height:t.height})}}],(t=[{key:"set",value:function(e){e&&(Object.assign(this,e),this.right=this.left+this.width,this.bottom=this.top+this.height),this.center={top:this.top+this.height/2,left:this.left+this.width/2},this.center.x=this.center.left,this.center.y=this.center.top}},{key:"intersect",value:function(e){return n.intersectRect(this,e)}},{key:"intersection",value:function(e){var t={x:(this.center.x-e.center.x)/(e.width/2),y:(this.center.y-e.center.y)/(e.height/2)};if(this.intersect(e)){var n=this.left>e.left?0:Math.abs(e.left-this.left),i=this.top>e.top?0:Math.abs(e.top-this.top),o=n?1-n/this.width:(e.left+e.width-this.left)/this.width,a=i?1-i/this.height:(e.top+e.height-this.top)/this.height;return{x:o=Math.min(1,o),y:a=Math.min(1,a),center:t}}return{x:0,y:0,center:t}}}])&&o(e.prototype,t),i&&o(e,i),n}();n.default=i},{}],5:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","use"),i=Math.random()<.5?60:120,o="triangle-"+i+(Math.random()<.15?"-fill":"")+(e?"-white":"");t.appendChild(n),t.setAttribute("class","triangle triangle--"+i),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+o),n.setAttribute("width",i),n.setAttribute("height",i),this.node=t}var e,t,n;return e=a,(t=[{key:"getRandomPosition",value:function(e){var t=e.offsetWidth,n=e.offsetHeight,i=90*Math.floor(4*Math.random()),o=Math.floor(Math.random()*t/98),a=Math.floor(Math.random()*n/98);return{r:i,x:98*o,y:98*a,i:30*a+o}}},{key:"appendInto",value:function(e,t){e.appendChild(this.node),this.parent=e,this.resize(e,t)}},{key:"resize",value:function(e,t){for(var n=this.getRandomPosition(e),i=0;void 0!==t[n.i]&&i<5;)n=this.getRandomPosition(e),i++;t[n.i]=n.i,this.position=n,this.parent=e,TweenMax.set(this.node,{opacity:0,transform:"translateX("+n.x+"%) translateY("+n.y+"%) rotateZ("+n.r+"deg)"})}},{key:"appear",value:function(){var e=this,t=this.position;TweenMax.to(this.node,1,{opacity:1,onComplete:function(){e.rotate()},onCompleteScope:this,ease:Quint.easeInOut,overwrite:"all",delay:.02*t.i})}},{key:"rotate",value:function(){var e=this,t=this.position,n=t.x/98-1;t.x=98*n,TweenMax.to(this.node,1,{x:t.x+"%",directionalRotation:"90_cw",onComplete:function(){e.disappear()},onCompleteScope:this,ease:Quint.easeInOut,overwrite:"all",delay:3+Math.floor(10*Math.random())})}},{key:"disappear",value:function(){var t=this;TweenMax.to(this.node,1,{opacity:0,onComplete:function(){var e=t.getRandomPosition(t.parent);t.position=e,TweenMax.set(t.node,{opacity:0,transform:"translateX("+e.x+"%) translateY("+e.y+"%) rotateZ("+e.r+"deg)"}),t.appear()},onCompleteScope:this,ease:Quint.easeInOut,overwrite:"all"})}},{key:"kill",value:function(){TweenMax.killTweensOf(this.node)}}])&&i(e.prototype,t),n&&i(e,n),a}();n.default=o},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,o=(i=e("./triangle"))&&i.__esModule?i:{default:i};function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function(){function i(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var e=new Array(20).fill(null).map(function(){return new o.default(t.hasAttribute("white"))});this.node=t,this.triangles=e;var n={};e.forEach(function(e){e.appendInto(t,n)})}var e,t,n;return e=i,(t=[{key:"resize",value:function(){var t=this,n=this.node,i={};this.triangles.forEach(function(e){e.resize(n,i),t.visible&&e.appear()})}},{key:"appear",value:function(){this.visible||(this.visible=!0,this.triangles.forEach(function(e){e.appear()}))}},{key:"disappear",value:function(){this.visible&&(this.visible=!1,this.triangles.forEach(function(e){e.kill()}))}}])&&a(e.prototype,t),n&&a(e,n),i}();n.default=r},{"./triangle":5}],7:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(){function h(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h)}var e,t,n;return e=h,n=[{key:"now",value:function(){return Date.now?Date.now():(new Date).getTime()}},{key:"throttle",value:function(n,i,o){var a=null,r=null,s=null,l=null,u=0;o||(o={});var c=function(){u=!1===o.leading?0:h.now(),l=null,r=n.apply(a,s),l||(a=s=null)};return function(){a=this,s=arguments;var e=h.now();u||!1!==o.leading||(u=e);var t=i-(e-u);return t<=0||i<t?(l&&(clearTimeout(l),l=null),u=e,r=n.apply(a,s),l||(a=s=null)):l||!1===o.trailing||(l=setTimeout(c,t)),r}}}],(t=null)&&i(e.prototype,t),n&&i(e,n),h}();n.default=o},{}],8:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.node=e}var e,n,i;return e=t,(n=[{key:"appear",value:function(){this.visible||(this.visible=!0,this.node.play())}},{key:"disappear",value:function(){this.visible&&(this.visible=!1,this.node.pause())}}])&&o(e.prototype,n),i&&o(e,i),t}();n.default=i},{}]},{},[1]);
//# sourceMappingURL=app.min.js.map
