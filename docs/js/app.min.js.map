{"version":3,"sources":["docs/js/app.js"],"names":["Swiper","loop","effect","parallax","spaceBetween","speed","autoplay","delay","disableOnInteraction","on","slideChangeTransitionEnd","slide","this","slides","activeIndex","video","querySelector","play","console","log","pagination","el","clickable","dynamicBullets","module","Triangle","white","element","document","createElementNS","use","size","Math","random","name","appendChild","setAttribute","setAttributeNS","Triangles","triangles","Array","fill","map","hasAttribute","pool","forEach","triangle","appendInto","prototype","getRandomPosition","width","offsetWidth","height","offsetHeight","r","floor","x","y","i","resize","position","t","undefined","parent","TweenMax","set","opacity","transform","appear","to","onComplete","rotate","onCompleteScope","ease","Quint","easeInOut","overwrite","directionalRotation","disappear","tween","min","render","shadows","slice","call","querySelectorAll","mxy","xy","shadow","getAttribute","pow","abs","toFixed","bs","boxShadow","window","requestAnimationFrame","onScroll","page","scrollY","onload","animations","addEventListener","animation","e","clientX","innerWidth","clientY","innerHeight","preventDefault","stopPropagation"],"mappings":"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","file":"app.min.js","sourcesContent":["/* global Swiper, TweenLite, TweenMax */\n\n(function() {\n\t\"use strict\";\n\n\tvar swiperHero = new Swiper('.swiper-container--home-hero', {\n\t\tloop: true,\n\t\teffect: 'fade',\n\t\tparallax: true,\n\t\tspaceBetween: 300,\n\t\tspeed: 600,\n\t\tautoplay: {\n\t\t\tdelay: 5000,\n\t\t\tdisableOnInteraction: true,\n\t\t},\n\t\ton: {\n\t\t\tslideChangeTransitionEnd: function() {\n\t\t\t\t// console.log('slideChange', this.slides.length, this.activeIndex);\n\t\t\t\tvar slide = this.slides[this.activeIndex];\n\t\t\t\tif (slide) {\n\t\t\t\t\tvar video = slide.querySelector('video');\n\t\t\t\t\t/*\n\t\t\t\t\tvar videos = [].slice.call(slide.parentNode.querySelectorAll('video'));\n\t\t\t\t\tvideos.forEach(function(v) {\n\t\t\t\t\t\tif (!video && !!(v.currentTime > 0 && !v.paused && !v.ended && v.readyState > 2)) {\n\t\t\t\t\t\t\tv.pause();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t*/\n\t\t\t\t\tif (video) {\n\t\t\t\t\t\tvideo.play();\n\t\t\t\t\t\tconsole.log(video);\n\t\t\t\t\t}\n\t\t\t\t\t// console.log(videos);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t/*\n\t\tpagination: {\n\t\t\tel: '.swiper-pagination',\n\t\t\tclickable: true,\n\t\t\tdynamicBullets: true,\n\t\t},\n\t\t*/\n\t});\n\n\tvar swiperHilights = new Swiper('.swiper-container--hilights', {\n\t\tloop: false,\n\t\t/*\n\t\tmousewheel: {\n\t\t\tinvert: true,\n\t\t},\n\t\t*/\n\t\tparallax: true,\n\t\tspaceBetween: 300,\n\t\tspeed: 600,\n\t\tpagination: {\n\t\t\tel: '.swiper-pagination',\n\t\t\tclickable: true,\n\t\t\tdynamicBullets: true,\n\t\t},\n\t});\n\n\tvar module = 100;\n\n\tfunction Triangle(white) {\n\t\tvar element = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\t\tvar use = document.createElementNS('http://www.w3.org/2000/svg', 'use');\n\t\tvar size = Math.random() < 0.5 ? 60 : 120;\n\t\tvar filled = Math.random() < 0.15 ? '-fill' : '';\n\t\tvar color = white ? '-white' : '';\n\t\tvar name = 'triangle-' + size + filled + color;\n\t\telement.appendChild(use);\n\t\telement.setAttribute('class', 'triangle triangle--' + size);\n\t\tuse.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', '#' + name);\n\t\tuse.setAttribute('width', size);\n\t\tuse.setAttribute('height', size);\n\t\tthis.element = element;\n\t}\n\n\tTriangle.prototype = {\n\t\tgetRandomPosition: function(element) {\n\t\t\tvar width = element.offsetWidth;\n\t\t\tvar height = element.offsetHeight;\n\t\t\tvar r = Math.floor(Math.random() * 4) * 90;\n\t\t\tvar x = Math.floor((Math.random() * width) / module);\n\t\t\tvar y = Math.floor((Math.random() * height) / module);\n\t\t\tvar i = y * 30 + x;\n\t\t\treturn {\n\t\t\t\tr: r,\n\t\t\t\tx: x * module,\n\t\t\t\ty: y * module,\n\t\t\t\ti: i,\n\t\t\t};\n\t\t},\n\t\tappendInto: function(element, pool) {\n\t\t\telement.appendChild(this.element);\n\t\t\tthis.resize(element, pool);\n\t\t},\n\t\tresize: function(element, pool) {\n\t\t\tvar position = this.getRandomPosition(element);\n\t\t\tvar t = 0;\n\t\t\twhile (pool[position.i] !== undefined && t < 5) {\n\t\t\t\tposition = this.getRandomPosition(element);\n\t\t\t\tt++;\n\t\t\t}\n\t\t\tpool[position.i] = position.i;\n\t\t\tthis.position = position;\n\t\t\tthis.parent = element;\n\t\t\tTweenMax.set(this.element, {\n\t\t\t\topacity: 0,\n\t\t\t\ttransform: 'translateX(' + position.x + '%) translateY(' + position.y + '%) rotateZ(' + position.r + 'deg)',\n\t\t\t});\n\t\t\tthis.appear();\n\t\t},\n\t\tappear: function() {\n\t\t\tvar position = this.position;\n\t\t\tTweenMax.to(this.element, 1.0, {\n\t\t\t\topacity: 1,\n\t\t\t\tonComplete: function() {\n\t\t\t\t\tthis.rotate();\n\t\t\t\t},\n\t\t\t\tonCompleteScope: this,\n\t\t\t\tease: Quint.easeInOut,\n\t\t\t\toverwrite: 'all',\n\t\t\t\tdelay: position.i * 0.02,\n\t\t\t});\n\t\t},\n\t\trotate: function() {\n\t\t\tvar position = this.position;\n\t\t\tvar i = (position.x / module) - 1;\n\t\t\tposition.x = i * module;\n\t\t\tTweenMax.to(this.element, 1.0, {\n\t\t\t\t// transform: 'translateX(' + position.x + '%) translateY(' + position.y + '%)',\n\t\t\t\tx: position.x + '%',\n\t\t\t\tdirectionalRotation: '90_cw',\n\t\t\t\tonComplete: function() {\n\t\t\t\t\tthis.disappear();\n\t\t\t\t},\n\t\t\t\tonCompleteScope: this,\n\t\t\t\tease: Quint.easeInOut,\n\t\t\t\toverwrite: 'all',\n\t\t\t\tdelay: 3 + Math.floor(Math.random() * 10),\n\t\t\t});\n\t\t},\n\t\tdisappear: function() {\n\t\t\tTweenMax.to(this.element, 1.0, {\n\t\t\t\topacity: 0,\n\t\t\t\tonComplete: function() {\n\t\t\t\t\tvar position = this.getRandomPosition(this.parent);\n\t\t\t\t\tthis.position = position;\n\t\t\t\t\tTweenMax.set(this.element, {\n\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\ttransform: 'translateX(' + position.x + '%) translateY(' + position.y + '%) rotateZ(' + position.r + 'deg)',\n\t\t\t\t\t});\n\t\t\t\t\tthis.appear();\n\t\t\t\t},\n\t\t\t\tonCompleteScope: this,\n\t\t\t\tease: Quint.easeInOut,\n\t\t\t\toverwrite: 'all',\n\t\t\t});\n\t\t},\n\t\ttween: function() {\n\t\t\tTweenMax.to(this.element, 1.0, {\n\t\t\t\topacity: Math.min(1, Math.random() * 2),\n\t\t\t\tonComplete: function() {\n\t\t\t\t\tthis.tween();\n\t\t\t\t},\n\t\t\t\tonCompleteScope: this,\n\t\t\t\tease: Quint.easeInOut,\n\t\t\t\toverwrite: 'all',\n\t\t\t\tdelay: position.i * 0.1,\n\t\t\t});\n\t\t},\n\t\trender: function() {\n\t\t\tconsole.log(this);\n\t\t},\n\t};\n\n\tfunction Triangles(element) {\n\t\tvar triangles = new Array(20).fill(null).map(function() {\n\t\t\treturn new Triangle(element.hasAttribute('white'));\n\t\t});\n\t\tthis.element = element;\n\t\tthis.triangles = triangles;\n\t\tvar pool = {};\n\t\ttriangles.forEach(function(triangle) {\n\t\t\ttriangle.appendInto(element, pool);\n\t\t});\n\t}\n\n\tTriangles.prototype = {\n\t\tresize: function() {\n\t\t\tvar element = this.element;\n\t\t\tvar pool = {};\n\t\t\tthis.triangles.forEach(function(triangle) {\n\t\t\t\ttriangle.resize(element, pool);\n\t\t\t});\n\t\t},\n\t};\n\n\tvar shadows = [].slice.call(document.querySelectorAll('[data-parallax-shadow]'));\n\tvar mxy = { x: 0, y: 0 };\n\n\tfunction render() {\n\t\tshadows.forEach(function(element) {\n\t\t\tvar xy = element.xy || { x: 0, y: 0 };\n\t\t\txy.x += (mxy.x - xy.x) / 8;\n\t\t\txy.y += (mxy.y - xy.y) / 8;\n\t\t\tvar shadow = element.getAttribute('data-parallax-shadow') || 90;\n\t\t\tvar pow = (0.2 + 0.3 * (Math.abs(xy.x) + Math.abs(xy.y)) / 2).toFixed(3);\n\t\t\tvar x = (xy.x * -100).toFixed(2);\n\t\t\tvar y = (xy.y * -50).toFixed(2);\n\t\t\tvar bs = x + 'px ' + y + 'px ' + shadow + 'px -10px rgba(0, 0, 0, ' + pow + ')';\n\t\t\tif (element.bs !== bs) {\n\t\t\t\tTweenMax.set(element, {\n\t\t\t\t\t// transform: 'translateX(' + (xy.x * -4) + '%) translateY(' + (xy.y * -2) + '%)',\n\t\t\t\t\tboxShadow: bs,\n\t\t\t\t});\n\t\t\t\telement.bs = bs;\n\t\t\t}\n\t\t\telement.xy = xy;\n\t\t});\n\t}\n\n\tfunction loop() {\n\t\trender();\n\t\twindow.requestAnimationFrame(loop);\n\t}\n\n\tfunction onScroll() {\n\t\tvar page = document.querySelector('.page');\n\t\tif (window.scrollY > 0) {\n\t\t\tpage.setAttribute('class', 'page fixed');\n\t\t} else {\n\t\t\tpage.setAttribute('class', 'page');\n\t\t}\n\t}\n\n\tfunction onLoad() {\n\n\t\tvar animations = [].slice.call(document.querySelectorAll('.triangles'));\n\n\t\tanimations = animations.map(function(element) {\n\t\t\treturn new Triangles(element);\n\t\t});\n\n\t\twindow.addEventListener('resize', function() {\n\t\t\tanimations.forEach(function(animation) {\n\t\t\t\tanimation.resize();\n\t\t\t});\n\t\t});\n\n\t\twindow.addEventListener('scroll', onScroll);\n\n\t\tdocument.addEventListener('mousemove', function(e) {\n\t\t\tmxy.x = e.clientX / window.innerWidth - 0.5;\n\t\t\tmxy.y = e.clientY / window.innerHeight - 0.5;\n\t\t});\n\n\t\t[].slice.call(document.querySelectorAll('[href=\"#\"]')).forEach(function(element) {\n\t\t\telement.addEventListener('click', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t});\n\n\t\tloop();\n\n\t}\n\n\twindow.onload = onLoad;\n\n}());\n"]}