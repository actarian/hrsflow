{"version":3,"sources":["docs/js/app.js"],"names":["Swiper","loop","effect","parallax","spaceBetween","speed","autoplay","delay","disableOnInteraction","on","slideChangeTransitionEnd","slide","this","slides","activeIndex","video","querySelector","play","console","log","pagination","el","clickable","dynamicBullets","Triangle","white","element","document","createElementNS","use","size","Math","random","name","appendChild","setAttribute","setAttributeNS","Triangles","triangles","Array","fill","map","hasAttribute","pool","forEach","triangle","appendInto","prototype","getRandomPosition","module","width","offsetWidth","height","offsetHeight","r","floor","x","y","i","position","t","undefined","TweenLite","set","opacity","transform","tween","to","min","onComplete","onCompleteScope","render","window","onload","animations","slice","call","querySelectorAll","addEventListener","e","preventDefault","stopPropagation"],"mappings":"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","file":"app.min.js","sourcesContent":["/* global Swiper, TweenLite, TweenMax */\n\n(function() {\n\t\"use strict\";\n\n\tvar swiperHero = new Swiper('.swiper-container--home-hero', {\n\t\tloop: true,\n\t\teffect: 'fade',\n\t\tparallax: true,\n\t\tspaceBetween: 300,\n\t\tspeed: 600,\n\t\tautoplay: {\n\t\t\tdelay: 5000,\n\t\t\tdisableOnInteraction: true,\n\t\t},\n\t\ton: {\n\t\t\tslideChangeTransitionEnd: function() {\n\t\t\t\t// console.log('slideChange', this.slides.length, this.activeIndex);\n\t\t\t\tvar slide = this.slides[this.activeIndex];\n\t\t\t\tif (slide) {\n\t\t\t\t\tvar video = slide.querySelector('video');\n\t\t\t\t\t/*\n\t\t\t\t\tvar videos = [].slice.call(slide.parentNode.querySelectorAll('video'));\n\t\t\t\t\tvideos.forEach(function(v) {\n\t\t\t\t\t\tif (!video && !!(v.currentTime > 0 && !v.paused && !v.ended && v.readyState > 2)) {\n\t\t\t\t\t\t\tv.pause();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t*/\n\t\t\t\t\tif (video) {\n\t\t\t\t\t\tvideo.play();\n\t\t\t\t\t\tconsole.log(video);\n\t\t\t\t\t}\n\t\t\t\t\t// console.log(videos);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t/*\n\t\tpagination: {\n\t\t\tel: '.swiper-pagination',\n\t\t\tclickable: true,\n\t\t\tdynamicBullets: true,\n\t\t},\n\t\t*/\n\t});\n\n\tvar swiperHilights = new Swiper('.swiper-container--hilights', {\n\t\tloop: false,\n\t\t/*\n\t\tmousewheel: {\n\t\t\tinvert: true,\n\t\t},\n\t\t*/\n\t\tparallax: true,\n\t\tspaceBetween: 300,\n\t\tspeed: 600,\n\t\tpagination: {\n\t\t\tel: '.swiper-pagination',\n\t\t\tclickable: true,\n\t\t\tdynamicBullets: true,\n\t\t},\n\t});\n\n\tfunction Triangle(white) {\n\t\tvar element = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\t\tvar use = document.createElementNS('http://www.w3.org/2000/svg', 'use');\n\t\tvar size = Math.random() < 0.5 ? 60 : 120;\n\t\tvar filled = Math.random() < 0.15 ? '-fill' : '';\n\t\tvar color = white ? '-white' : '';\n\t\tvar name = 'triangle-' + size + filled + color;\n\t\telement.appendChild(use);\n\t\telement.setAttribute('class', 'triangle triangle--' + size);\n\t\tuse.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', '#' + name);\n\t\tuse.setAttribute('width', size);\n\t\tuse.setAttribute('height', size);\n\t\tthis.element = element;\n\t}\n\n\tTriangle.prototype = {\n\t\tgetRandomPosition: function(element) {\n\t\t\tvar module = 100;\n\t\t\tvar width = element.offsetWidth;\n\t\t\tvar height = element.offsetHeight;\n\t\t\tvar r = Math.floor(Math.random() * 4) * 90;\n\t\t\tvar x = Math.floor((Math.random() * width) / module);\n\t\t\tvar y = Math.floor((Math.random() * height) / module);\n\t\t\tvar i = y * 30 + x;\n\t\t\treturn {\n\t\t\t\tr: r,\n\t\t\t\tx: x * module,\n\t\t\t\ty: y * module,\n\t\t\t\ti: i,\n\t\t\t};\n\t\t},\n\t\tappendInto: function(element, pool) {\n\t\t\tvar position = this.getRandomPosition(element);\n\t\t\tvar t = 0;\n\t\t\twhile (pool[position.i] !== undefined && t < 5) {\n\t\t\t\tposition = this.getRandomPosition(element);\n\t\t\t\tt++;\n\t\t\t}\n\t\t\tpool[position.i] = position.i;\n\t\t\tthis.position = position;\n\t\t\telement.appendChild(this.element);\n\t\t\tTweenLite.set(this.element, {\n\t\t\t\topacity: 0,\n\t\t\t\ttransform: 'translateX(' + position.x + '%) translateY(' + position.y + '%) rotateZ(' + position.r + 'deg)'\n\t\t\t});\n\t\t\tthis.tween();\n\t\t},\n\t\ttween: function() {\n\t\t\tTweenLite.to(this.element, 1.0, {\n\t\t\t\topacity: Math.min(1, Math.random() * 2),\n\t\t\t\tonComplete: function() {\n\t\t\t\t\tthis.tween();\n\t\t\t\t},\n\t\t\t\tonCompleteScope: this,\n\t\t\t}, this.position.i * 0.1);\n\t\t},\n\t\trender: function() {\n\t\t\tconsole.log(this);\n\t\t},\n\t};\n\n\tfunction Triangles(element) {\n\t\tvar triangles = new Array(20).fill(null).map(function() {\n\t\t\treturn new Triangle(element.hasAttribute('white'));\n\t\t});\n\t\tthis.element = element;\n\t\tthis.triangles = triangles;\n\t\tvar pool = {};\n\t\ttriangles.forEach(function(triangle) {\n\t\t\ttriangle.appendInto(element, pool);\n\t\t});\n\t}\n\n\tTriangles.prototype = {\n\t\trender: function() {\n\t\t\tthis.triangles.forEach(function(triangle) {\n\t\t\t\ttriangle.render();\n\t\t\t});\n\t\t},\n\t};\n\n\tfunction render() {\n\t\tanimations.forEach(function(triangles) {\n\t\t\ttriangles.render();\n\t\t});\n\t}\n\n\tfunction loop() {\n\t\trender();\n\t\twindow.requestAnimationFrame(loop);\n\t}\n\n\tfunction onLoad() {\n\n\t\tvar animations = [].slice.call(document.querySelectorAll('.triangles'));\n\n\t\tanimations = animations.map(function(element) {\n\t\t\treturn new Triangles(element);\n\t\t});\n\n\t\t[].slice.call(document.querySelectorAll('[href=\"#\"]')).forEach(function(element) {\n\t\t\telement.addEventListener('click', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t});\n\n\t\t/*\n\t\tloop();\n\t\t*/\n\t}\n\n\twindow.onload = onLoad;\n\n}());\n"]}